<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Chat Story Maker</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>

    <div class="app-container" id="app-container">
        <div class="top-bar">
            <div class="mode-switcher" id="mode-switcher">
                <button class="mode-btn active" data-mode="personal">üë§ –õ–∏—á–Ω—ã–π</button>
                <button class="mode-btn" data-mode="group">üë• –ì—Ä—É–ø–ø–∞</button>
            </div>
            <div class="controls">
                <button id="set-time-btn">‚è∞</button>
                <button id="change-bg-btn">üé®</button>
            </div>
        </div>
        
        <div class="color-palette" id="color-palette"></div>

        <div id="export-wrapper">
            <div class="chat-header" id="chat-header">
                <div class="header-avatar" id="header-avatar">–°</div>
                <div class="header-info" id="header-info">
                    <div class="header-name" id="header-name">–°–µ—Ä–µ–∂–µ–Ω—å–∫–∞</div>
                    <div class="header-status" id="header-status">–±—ã–ª(–∞) –Ω–µ–¥–∞–≤–Ω–æ</div>
                </div>
                <div class="header-actions">
                    <div class="header-icon">üìû</div>
                    <div class="header-icon">‚ãÆ</div>
                </div>
            </div>
            <div class="chat-screen" id="chat-screen"></div>
        </div>
        
        <div class="message-composer">
            <button class="sender-selector-btn" id="sender-selector-btn"></button>
            <textarea id="message-input" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ" rows="1"></textarea>
            <button id="send-btn">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>
            </button>
        </div>

        <div class="export-controls">
            <button class="reset-chat-btn" id="reset-chat-btn">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å —á–∞—Ç</button>
            <button id="export-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É –±–æ—Ç–æ–º</button>
        </div>
    </div>
    
    <div class="modal-overlay" id="participants-modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è</h2>
                <button class="close-modal-btn" id="close-participants-modal-btn">&times;</button>
            </div>
            <ul class="participants-list" id="participants-list"></ul>
            <div class="modal-footer">
                <button class="add-participant-modal-btn" id="add-participant-modal-btn">‚ûï –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞</button>
            </div>
        </div>
    </div>

    <!-- –≠—Ç–æ—Ç –±–ª–æ–∫ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –ø—É—Å—Ç—å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è -->
    <div class="export-preview-overlay" id="export-preview-overlay">
        <img id="export-preview-img" src="" alt="–ì–æ—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
    </div>

    <script src="script.js"></script>
</body>
</html>
